<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hand Pattern AI</title>
<style>
body {
  margin: 0;
  overflow: hidden;
  background: black;
}
video, canvas {
  position: absolute;
  top: 0;
  left: 0;
}
</style>
</head>
<body>

<video id="video" autoplay playsinline></video>
<canvas id="canvas"></canvas>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
const video = document.getElementById("video");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let lastX = null, lastY = null;

const hands = new Hands({
  locateFile: file => 
    `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`
});

hands.setOptions({
  maxNumHands: 1,
  modelComplexity: 1,
  minDetectionConfidence: 0.7,
  minTrackingConfidence: 0.7
});

hands.onResults(results => {
  ctx.fillStyle = "rgba(0,0,0,0.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  if (results.multiHandLandmarks) {
    const lm = results.multiHandLandmarks[0];
    const x = lm[8].x * canvas.width;
    const y = lm[8].y * canvas.height;

    if (lastX !== null) {
      ctx.beginPath();
      ctx.moveTo(lastX, lastY);
      ctx.lineTo(x, y);
      ctx.strokeStyle = `hsl(${Date.now() % 360},100%,60%)`;
      ctx.lineWidth = 6;
      ctx.shadowBlur = 20;
      ctx.shadowColor = ctx.strokeStyle;
      ctx.stroke();
    }

    lastX = x;
    lastY = y;
  }
});

const camera = new Camera(video, {
  onFrame: async () => {
    await hands.send({image: video});
  },
  width: 640,
  height: 480
});
camera.start();
</script>

</body>
</html>